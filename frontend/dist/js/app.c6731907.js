(function(e){function t(t){for(var a,c,i=t[0],s=t[1],l=t[2],d=0,p=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var s=n[i];0!==r[s]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},o=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0305":function(e,t,n){"use strict";n("f93b")},"041b":function(e,t,n){"use strict";n("14bb")},"07b7":function(e,t,n){"use strict";n("3eb1")},"14bb":function(e,t,n){},"2da1":function(e,t,n){e.exports=n.p+"img/heatmap.346bb189.png"},"32fa":function(e,t,n){},"3eb1":function(e,t,n){},4317:function(e,t,n){},"45f7":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),r={id:"nav"};function o(e,t){var n=Object(a["D"])("router-view");return Object(a["v"])(),Object(a["f"])("div",r,[Object(a["i"])(n)])}n("5f50");var c=n("d959"),i=n.n(c);const s={},l=i()(s,[["render",o]]);var u=l,d=n("6c02"),p=n("2da1"),f=n.n(p),b=function(e){return Object(a["y"])("data-v-51722949"),e=e(),Object(a["w"])(),e},g={class:"home"},h={class:"wrapper"},m={class:"feature"},v={class:"topDescriptor"},O=b((function(){return Object(a["g"])("img",{class:"heatLogo",src:f.a},null,-1)})),j=b((function(){return Object(a["g"])("h1",null,"ReCovid",-1)})),y=b((function(){return Object(a["g"])("p",null,"A Website that gives you alternative recommendations in places that are not COVID Hotspots based on where you would like to go",-1)})),w=b((function(){return Object(a["g"])("button",{class:"standard"},"Get Started",-1)})),S={class:"inputFeatureContainer"},k=b((function(){return Object(a["g"])("h1",null,"Where would you like to go?",-1)})),_={class:"inputFakeSearch"},I={class:"inputFeature"},L=Object(a["h"])(),D=b((function(){return Object(a["g"])("div",null,null,-1)})),x=b((function(){return Object(a["g"])("div",{class:"footerText"},[Object(a["g"])("p",null,"Made possible by GoogleMaps, its Heatmap Layer and the Foursquare API")],-1)})),C=b((function(){return Object(a["g"])("div",null,[Object(a["h"])("Icons made by "),Object(a["g"])("a",{href:"https://www.flaticon.com/authors/flat-icons",title:"Flat Icons"},"Flat Icons"),Object(a["h"])(" from "),Object(a["g"])("a",{href:"https://www.flaticon.com/",title:"Flaticon"},"www.flaticon.com")],-1)}));function N(e,t,n,r,o,c){var i=Object(a["D"])("router-link"),s=Object(a["D"])("font-awesome-icon"),l=Object(a["D"])("v-typical");return Object(a["v"])(),Object(a["f"])("div",g,[Object(a["g"])("div",h,[Object(a["g"])("div",m,[Object(a["g"])("div",v,[O,j,y,Object(a["i"])(i,{to:"/sign-in"},{default:Object(a["M"])((function(){return[w]})),_:1})]),Object(a["g"])("div",S,[k,Object(a["g"])("div",_,[Object(a["g"])("div",I,[Object(a["i"])(s,{icon:o.myIcon,class:"fakeButton"},null,8,["icon"]),L,Object(a["i"])(l,{class:"blink",steps:["Bishan",3e3,"Raffles Place",3e3,"Newton",3e3],loop:1/0,wrapper:"h2"})])])]),D,x,C])])])}var A=n("f241"),M=n("ad3d"),B=n("c074"),U={name:"Home",components:{VTypical:A["a"],FontAwesomeIcon:M["a"]},data:function(){return{myIcon:B["a"]}}};n("dc2d");const R=i()(U,[["render",N],["__scopeId","data-v-51722949"]]);var P=R,F=(n("caad"),n("2532"),n("fb6a"),n("b0c0"),{class:"map"}),z={class:"middleInput"},T={class:"search"},J={class:"row"},H=Object(a["g"])("option",{selected:"",value:""},"Saved Locations",-1),E=[H],G=["disabled"],K={key:0,class:"errorMessage"},W={class:"mapRow"},Y={class:"mapleft"},q=Object(a["g"])("h3",{class:"header1"},"Rating Map",-1),V={style:{color:"black"}},$=Object(a["h"])(),Z=Object(a["g"])("br",null,null,-1),Q={class:"hm"},X=Object(a["g"])("h3",{class:"header2"},"Heat Map",-1),ee={key:0,class:"cardRow"},te=Object(a["g"])("div",{class:"navBar"},[Object(a["g"])("h4",{class:"recommendedheader"},[Object(a["g"])("b",null,"Recommended Places")])],-1);function ne(e,t,n,r,o,c){var i=Object(a["D"])("NavBar"),s=Object(a["D"])("FavouriteButton"),l=Object(a["D"])("DeleteButton"),u=Object(a["D"])("font-awesome-icon"),d=Object(a["D"])("GMapInfoWindow"),p=Object(a["D"])("GMap-marker"),f=Object(a["D"])("GMapCluster"),b=Object(a["D"])("GMapMap"),g=Object(a["D"])("heat-map"),h=Object(a["D"])("Card");return Object(a["v"])(),Object(a["f"])("div",F,[Object(a["i"])(i),Object(a["g"])("div",z,[Object(a["g"])("form",T,[Object(a["g"])("div",J,[Object(a["N"])(Object(a["g"])("select",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.getLocationInput=e}),onChange:t[1]||(t[1]=Object(a["O"])((function(){return c.getLocation&&c.getLocation.apply(c,arguments)}),["prevent"])),class:"savedSearch",value:"Saved Locations",name:"dropdown",id:"dropdownlist"},E,544),[[a["J"],o.getLocationInput]]),o.ifData&!this.searches.includes(this.getLocationInput)?(Object(a["v"])(),Object(a["d"])(s,{key:0,onClick:c.saveSearch,name:"favorite"},null,8,["onClick"])):Object(a["e"])("",!0),this.searches.includes(this.getLocationInput)?(Object(a["v"])(),Object(a["d"])(l,{key:1,onClick:c.deleteSearch,name:"del"},null,8,["onClick"])):Object(a["e"])("",!0),Object(a["N"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.getLocationInput=e}),id:"q",placeholder:"search for a location..."},null,512),[[a["K"],o.getLocationInput]]),Object(a["g"])("button",{class:"searchButton",onClick:t[3]||(t[3]=Object(a["O"])((function(){return c.getLocation&&c.getLocation.apply(c,arguments)}),["prevent"])),disabled:o.ifData},[Object(a["i"])(u,{icon:o.myIcon},null,8,["icon"])],8,G),o.ifData?(Object(a["v"])(),Object(a["f"])("button",{key:2,class:"clearButton",onClick:t[4]||(t[4]=function(){return c.clearData&&c.clearData.apply(c,arguments)})},"Clear Search")):Object(a["e"])("",!0)])]),o.ifData?(Object(a["v"])(),Object(a["f"])("p",K,"You may only search for one place at a certain time, please clear your search before searching for another place")):Object(a["e"])("",!0)]),Object(a["g"])("div",W,[Object(a["g"])("div",Y,[q,Object(a["i"])(b,{center:o.center,zoom:o.zoom,"map-type-id":"terrain",class:"map1"},{default:Object(a["M"])((function(){return[Object(a["i"])(f,{class:"cluster",maxZoom:15,zoomOnClick:!0,minimumClusterSize:5,styles:[{url:"https://raw.githubusercontent.com/googlearchive/js-marker-clusterer/gh-pages/images/m2.png",height:"100",width:"100",textColor:"#333",textSize:"18",anchorText:[17,27]}]},{default:Object(a["M"])((function(){return[(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["B"])(o.markers,(function(e,n){return Object(a["v"])(),Object(a["d"])(p,{key:n,position:e,onClick:function(t){return o.center=e,o.zoom=16,c.openMarker(e.label),c.setlatlng(e.lat,e.lng)},clickable:!0,options:{label:String(e.rating)}},{default:Object(a["M"])((function(){return[Object(a["i"])(d,{options:{width:40,height:20,textColor:"#333"},opened:o.open===e.label,closeclick:!0,onCloseclick:t[5]||(t[5]=function(e){return c.openMarker(null)}),zIndex:-n},{default:Object(a["M"])((function(){return[Object(a["g"])("div",V,[Object(a["g"])("b",null,Object(a["F"])(e.label),1),$,Z,Object(a["h"])(" "+Object(a["F"])(e.address),1)])]})),_:2},1032,["opened","zIndex"])]})),_:2},1032,["position","onClick","options"])})),128))]})),_:1},8,["styles"])]})),_:1},8,["center","zoom"])]),Object(a["g"])("div",Q,[X,o.ifData?Object(a["e"])("",!0):(Object(a["v"])(),Object(a["d"])(g,{key:0,class:"heatmap",points:o.heatData,width:400,height:300,initialZoom:o.zoom,lat:o.lat,lng:o.lng},null,8,["points","initialZoom","lat","lng"])),o.ifData?(Object(a["v"])(),Object(a["d"])(g,{key:o.center,points:o.heatData,width:400,height:300,initialZoom:o.zoom,lat:o.lat,lng:o.lng},null,8,["points","initialZoom","lat","lng"])):Object(a["e"])("",!0)])]),o.ifData?(Object(a["v"])(),Object(a["f"])("div",ee,[te,(Object(a["v"])(!0),Object(a["f"])(a["a"],null,Object(a["B"])(o.results.slice(0,5),(function(e){return Object(a["v"])(),Object(a["d"])(h,{onClick:function(t){return o.center={lat:e.lat,lng:e.lng},c.openMarker(e.name),o.zoom=16},key:e,fulladdress:e.full_address,name:e.name,src:e.photo_url,rating:e.rating},null,8,["onClick","fulladdress","name","src","rating"])})),128))])):Object(a["e"])("",!0)])}var ae=n("3835"),re=n("ade3"),oe=n("b85c"),ce=n("1da1");n("96cf"),n("ac1f"),n("5319"),n("1276"),n("a9e3"),n("99af"),n("159b"),n("4fad");function ie(e,t,n,r,o,c){return Object(a["v"])(),Object(a["f"])("div",{ref:"heatmap",style:Object(a["q"])("width: ".concat(c.mapWidth,"; height: ").concat(c.mapHeight,"; display: flex"))},null,4)}n("d81d");var se={name:"c-heat-map",props:{lat:{type:Number,default:function(){return 1.3521}},lng:{type:Number,default:function(){return 103.8198}},center:{type:Object,default:function(){return{lat:1.3521,lng:103.8198}}},initialZoom:{type:Number,default:function(){return 11}},mapType:{type:String,default:function(){return"terrain"}},points:{type:Array,required:!0},width:{type:[String,Number],default:function(){return"100%"}},height:{type:[String,Number],default:function(){return"100%"}},opacity:{type:Number,default:function(){return 1}},maxIntensity:{type:Number,default:function(){return 5}}},computed:{mapWidth:function(){return"string"===typeof this.width?this.width:"".concat(this.width,"px")},mapHeight:function(){return"string"===typeof this.height?this.height:"".concat(this.height,"px")},heatmapPoints:function(){return this.points.map((function(e){return new google.maps.LatLng(e.lat,e.lng)}))}},mounted:function(){var e=this;return this.$gmapApiPromiseLazy().then((function(){e.$mapObject=new google.maps.Map(e.$refs.heatmap,{zoom:e.initialZoom,center:{lat:e.lat,lng:e.lng},mapTypeId:e.mapType}),e.$heatmap=new google.maps.visualization.HeatmapLayer({data:e.heatmapPoints,map:e.$mapObject,opacity:e.opacity,maxIntensity:e.maxIntensity}),e.$heatmap.setMap(e.$mapObject)}))}};const le=i()(se,[["render",ie]]);var ue=le,de={class:"float-container"},pe={class:"float-card"},fe=["src"],be={class:"small"};function ge(e,t,n,r,o,c){return Object(a["v"])(),Object(a["f"])("div",de,[Object(a["g"])("div",pe,[Object(a["g"])("img",{src:n.src,alt:"",width:"250",height:"180"},null,8,fe),Object(a["g"])("p",null,[Object(a["g"])("b",null,Object(a["F"])(n.name),1)]),Object(a["g"])("p",be,Object(a["F"])(n.fulladdress),1)])])}var he={name:"Card",props:["name","fulladdress","src","rating"],data:function(){return{pic:""}},methods:{},computed:{}};n("0305");const me=i()(he,[["render",ge],["__scopeId","data-v-2124036e"]]);var ve=me,Oe=function(e){return Object(a["y"])("data-v-3f6dfa1f"),e=e(),Object(a["w"])(),e},je={class:"navBar"},ye=Oe((function(){return Object(a["g"])("div",{class:"logoLeft"},[Object(a["g"])("h3",null,"ReCovid")],-1)})),we={class:"leftLinks"},Se=Object(a["h"])("Home"),ke=Object(a["h"])(" | "),_e=Object(a["h"])("Sign Up");function Ie(e,t,n,r,o,c){var i=Object(a["D"])("router-link");return Object(a["v"])(),Object(a["f"])("div",je,[ye,Object(a["g"])("div",we,[Object(a["i"])(i,{to:"/",class:"routerLink"},{default:Object(a["M"])((function(){return[Se]})),_:1}),ke,c.isLoggedIn?Object(a["e"])("",!0):(Object(a["v"])(),Object(a["d"])(i,{key:0,to:"/sign-up",class:"routerLink"},{default:Object(a["M"])((function(){return[_e]})),_:1})),c.isLoggedIn?(Object(a["v"])(),Object(a["f"])("button",{key:1,class:"navButton",onClick:t[0]||(t[0]=function(e){return c.signOut()})},"Log out")):Object(a["e"])("",!0)])])}var Le=n("4f60"),De=(n("256a"),n("1862"),n("2979"),{apiKey:"AIzaSyAGCnRGJhmTTs7CbP_jkT0yCbc-9l7pwwU",authDomain:"schoolheatmap-76981.firebaseapp.com",databaseURL:"https://schoolheatmap-76981-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"schoolheatmap-76981",storageBucket:"schoolheatmap-76981.appspot.com",messagingSenderId:"1013498417889",appId:"1:1013498417889:web:32f98176f852794f119da0",measurementId:"G-QTD82F13DD"});Le["a"].initializeApp(De);var xe=Le["a"],Ce={name:"NavBar",data:function(){return{searches:[]}},methods:{signOut:function(){var e=this;return xe.auth().signOut().then((function(){e.$router.push({name:"Home"})}))}},computed:{isLoggedIn:function(){var e=JSON.parse(localStorage.getItem("authUser"));return!!e}}};n("e256");const Ne=i()(Ce,[["render",Ie],["__scopeId","data-v-3f6dfa1f"]]);var Ae=Ne,Me=n("bc3a"),Be=n.n(Me),Ue="https://maps.googleapis.com/maps/api/geocode/json?region=sg&key=AIzaSyAjnoiL_PASCr0AG9l4LU00PUokxfFC28A&address=";function Re(e){return Pe.apply(this,arguments)}function Pe(){return Pe=Object(ce["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Be.a.get("".concat(Ue).concat(t)).then((function(e){var t=e.data,n=t.results[0].geometry.location.lat,a=t.results[0].geometry.location.lng,r=n+","+a;return r}));case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),Pe.apply(this,arguments)}var Fe="https://api.foursquare.com/v2/venues/",ze="?client_id=Y54M35CHHAGKEBOQ52JLWJAMD0NRSYEZRPTHS0SI45YLIEQJ&client_secret=MRB55DCTOSGJCJOX4XDLCQ0U4YN04QHGJH3KFDUBT1GDF1SO&v=20211021";function Te(e){return Je.apply(this,arguments)}function Je(){return Je=Object(ce["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Be.a.get("".concat(Fe).concat(t).concat(ze)).then((function(e){var t=e.data.response.venue,n=t.name,a=t.rating,r="";if(t.bestPhoto){var o=t.bestPhoto.prefix,c=t.bestPhoto.suffix;r=o+"original"+c}else r="wadmap-main/frontend/src/assets/No_Image_Available.jpg";return{name:n,rating:a,photo_url:r}}));case 3:return n=e.sent,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e["catch"](0),console.error(e.t0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])}))),Je.apply(this,arguments)}var He={class:"favoriting"},Ee=["name","value","required","disabled"],Ge=Object(a["h"])(" ❤ ");function Ke(e,t,n,r,o,c){return Object(a["v"])(),Object(a["f"])("div",He,[Object(a["g"])("label",{class:Object(a["p"])(["favorite__heart",{favorite__heart__selected:o.valueLocal,"is-disabled":n.disabled}]),id:"favorite__heart",onClick:t[1]||(t[1]=function(){return c.favorite&&c.favorite.apply(c,arguments)})},[Object(a["N"])(Object(a["g"])("input",{class:"favorite__checkbox",type:"checkbox",name:n.name,value:o.valueLocal,required:e.required,disabled:n.disabled,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.valueLocal=e})},null,8,Ee),[[a["I"],o.valueLocal]]),Ge],2)])}var We={name:"FavouriteButton",props:{name:{type:String,default:"favorite"},value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{valueLocal:this.value}},methods:{favorite:function(){1!=this.disabled&&(this.valueLocal=!this.valueLocal)}}};n("d297");const Ye=i()(We,[["render",Ke],["__scopeId","data-v-55d027cc"]]);var qe=Ye,Ve={class:"deleting"},$e=["name","value","required","disabled"],Ze=Object(a["h"])(" ✖️ ");function Qe(e,t,n,r,o,c){return Object(a["v"])(),Object(a["f"])("div",Ve,[Object(a["g"])("label",{class:Object(a["p"])(["del",{del__selected:o.valueLocal,"is-disabled":n.disabled}]),id:"del",onClick:t[1]||(t[1]=function(){return c.del&&c.del.apply(c,arguments)})},[Object(a["N"])(Object(a["g"])("input",{class:"del_checkbox",type:"checkbox",name:n.name,value:o.valueLocal,required:e.required,disabled:n.disabled,"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.valueLocal=e})},null,8,$e),[[a["I"],o.valueLocal]]),Ze],2)])}var Xe={name:"DeleteButton",props:{name:{type:String,default:"del"},value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},data:function(){return{valueLocal:this.value}},methods:{del:function(){1!=this.disabled&&(this.valueLocal=!this.valueLocal)}}};n("041b");const et=i()(Xe,[["render",Qe],["__scopeId","data-v-54fa1521"]]);var tt=et,nt=JSON.parse(localStorage.getItem("authUser")),at=nt.email,rt=at.replace(/\W/g,""),ot=xe.database().ref("/userPrefs/"+rt+"/savedSearches"),ct={name:"Mapper",components:{HeatMap:ue,NavBar:Ae,FontAwesomeIcon:M["a"],Card:ve,FavouriteButton:qe,DeleteButton:tt},data:function(){return{open:null,center:{lat:1.3521,lng:103.8198},lat:1.3521,lng:103.8198,myIcon:B["a"],zoom:11,markers:[],getLocationInput:"",heatData:[],results:[],ifData:!1,name:"",id:"",venue_lat:0,venue_lng:0,final_full_add:"",categories:"",city:"",rating:0,api_count:0,label:"B",searches:[],selected:""}},created:function(){this.searches=[],this.showSearch()},methods:{ratingGetter:function(e){return Object(ce["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Te(e);case 2:if(n=t.sent,"undefined"!=n.rating){t.next=5;break}return t.abrupt("return","-");case 5:return t.abrupt("return",n.rating);case 6:case"end":return t.stop()}}),t)})))()},getLocation:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:console.log("im being pressed"),e.results!=[]&&(e.results=[]),e.markers!=[]&&(e.markers=[]),e.heatData!=[]&&(e.heatData=[]),""!=e.selected&&(e.getLocationInput=e.selected),n="https://api.foursquare.com/v2/venues/explore?client_id=CYYH5UN4KPR4E2B4CZRL4WXF3TODYG4OBWRN45EYWYLBSXYK&client_secret=2VJF5EMBFIIK1BKHP3D5NWE3L3J4ZWAO2D0ENJ0OU2O5HKB4&v=20211021&ll=",a="&section=";try{Re(e.getLocationInput).then((function(t){var r=t.split(",");console.log("this is ll",r),e.center={lat:Number(r[0]),lng:Number(r[1])},e.lat=Number(r[0]),e.lng=Number(r[1]),e.zoom=14,Be.a.get("".concat(n).concat(t).concat(a).concat(e.selected_section)).then((function(t){e.ifData=!0;var n=t.data;console.log(n);for(var a=n.response.groups[0].items,r=e.results,o=0;o<a.length;o++){var c=a[o].venue;console.log(c),e.id=c.id,e.name=c.name,e.city=c.location.city;var i,s=c.location.formattedAddress,l="",u=Object(oe["a"])(s);try{for(u.s();!(i=u.n()).done;){var d=i.value;l+=d+", "}}catch(j){u.e(j)}finally{u.f()}e.final_full_add=l.substring(0,l.length-2),console.log(e.final_full_add),e.venue_lat=c.location.lat,e.venue_lng=c.location.lng,e.categories=[];for(var p=c.categories,f=0;f<p.length;f++){var b=p[f];e.categories.push(b.name)}r.push({name:e.name,id:e.id,full_address:e.final_full_add,categories:e.categories,city:e.city,lat:e.venue_lat,lng:e.venue_lng,rating:0,photo_url:""});var g={lat:e.venue_lat,lng:e.venue_lng,label:e.name,rating:e.rating,address:e.final_full_add};e.markers.push(g);var h={lat:e.venue_lat,lng:e.venue_lng};e.heatData.push(h)}console.log("this is results",r);for(var m=[],v=function(t){var n=r[t],a=e.markers[t];try{Te(n.id).then((function(e){n.rating=e.rating,a.rating=e.rating,n.photo_url=e.photo_url})),n.categories.forEach((function(e){m.includes(e)||m.push(e)}))}catch(o){console.log(o)}},O=0;O<r.length;O++)v(O);console.log(m),console.log(r)}))}))}catch(r){console.error(r)}case 8:case"end":return t.stop()}}),t)})))()},openMarker:function(e){this.open=null,this.open=e},setlatlng:function(e,t){console.log("before",this,e,this.lng),this.lat=e,this.lng=t,console.log("after",this,e,this.lng),ue.se},clearData:function(){this.results=[],this.ifData=!1,this.getLocationInput=""},saveSearch:function(){var e=this.getLocationInput.toLowerCase();ot.update(Object(re["a"])({},e,!0)).then((function(){alert("You have saved the location! Refresh the page to see it in the dropdown")})).catch((function(e){alert(e)}))},getAll:function(){return Object(ce["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log(rt),t=[],e.next=4,ot.once("value",(function(e){for(var n=0,a=Object.entries(e.val());n<a.length;n++){var r=Object(ae["a"])(a[n],1),o=r[0];t.push(o)}console.log("im running"),console.log(t)}),(function(e){console.log("The read failed: "+e.name)}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()},showSearch:function(){var e=this;return Object(ce["a"])(regeneratorRuntime.mark((function t(){var n,a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,console.log("searches before",e.searches),e.searches=[],t.next=5,e.getAll();case 5:e.searches=t.sent,console.log("searches after",e.searches),e.searches=JSON.parse(JSON.stringify(e.searches)),n=Object(oe["a"])(e.searches);try{for(n.s();!(a=n.n()).done;)r=a.value,document.getElementById("dropdownlist").innerHTML+='<option value="'+r+'"\n          > '.concat(r,"\n          </option>")}catch(o){n.e(o)}finally{n.f()}t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](0),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})))()},deleteSearch:function(){var e=this.getLocationInput.toLowerCase();ot.child(e).remove().then((function(){alert("You have deleted the location! Refresh the page to see it in the dropdown")})).catch((function(e){alert(e)}))}}};n("07b7");const it=i()(ct,[["render",ne]]);var st=it,lt={id:"wrapper"},ut={class:"formContainer"},dt=Object(a["g"])("h1",{class:"formTitle"},"Sign Up",-1),pt=Object(a["g"])("button",{class:"formSubmit",type:"submit"}," Sign Up",-1),ft={class:"textSmall"},bt=Object(a["h"])(" Already a member ?"),gt=Object(a["h"])(" Sign In now."),ht={key:0,id:"loader"};function mt(e,t,n,r,o,c){var i=Object(a["D"])("router-link");return Object(a["v"])(),Object(a["f"])("div",lt,[Object(a["g"])("div",ut,[dt,Object(a["g"])("form",{class:"formBase",onSubmit:t[3]||(t[3]=Object(a["O"])((function(e){return c.handleSignup()}),["prevent"]))},[Object(a["N"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.firstName=t}),class:"formInput",placeholder:"Enter your first name"},null,512),[[a["K"],e.firstName]]),Object(a["N"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.emailAddress=t}),class:"formInput",placeholder:"Enter your email address"},null,512),[[a["K"],e.emailAddress]]),Object(a["N"])(Object(a["g"])("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.password=t}),class:"formInput",placeholder:"Enter a password"},null,512),[[a["K"],e.password]]),pt],32),Object(a["g"])("div",ft,[bt,Object(a["i"])(i,{to:"/sign-in"},{default:Object(a["M"])((function(){return[gt]})),_:1})])]),o.isLoaded?(Object(a["v"])(),Object(a["f"])("div",ht,"Loading...")):Object(a["e"])("",!0)])}var vt={name:"SignUp",data:function(){return{isLoaded:!1}},methods:{handleSignup:function(){var e=this,t=this.emailAddress,n=this.firstName,a=this.password;return xe.auth().createUserWithEmailAndPassword(t,a).then((function(t){return t.user.updateProfile({displayName:n}).then((function(){e.isLoaded=!0,e.$router.push({name:"Map"})}))})).catch((function(e){console.log(e)}))}}};n("65fe");const Ot=i()(vt,[["render",mt]]);var jt=Ot,yt={class:"home"},wt=Object(a["h"])(" This is admin view ");function St(e,t,n,r,o,c){return Object(a["v"])(),Object(a["f"])("div",yt,[wt,Object(a["g"])("button",{class:"googleSignIn",onClick:t[0]||(t[0]=function(e){return c.signOut()})},"Log out")])}var kt={name:"Admin",components:{},methods:{signOut:function(){return xe.auth().signOut()}}};const _t=i()(kt,[["render",St]]);var It=_t;function Lt(){var e=JSON.parse(localStorage.getItem("authUser"));console.log(e);var t=xe.auth().onAuthStateChanged((function(t){t?(localStorage.setItem("authUser",JSON.stringify(t)),e=t):(localStorage.removeItem("authUser"),e=null)}));return t(),!!e}var Dt=function(e){return Object(a["y"])("data-v-6cd6f6a3"),e=e(),Object(a["w"])(),e},xt={id:"wrapper"},Ct={class:"formContainer"},Nt=Dt((function(){return Object(a["g"])("h1",{class:"formTitle"},"Sign In",-1)})),At=Dt((function(){return Object(a["g"])("button",{class:"formSubmit",type:"submit"}," Sign In",-1)})),Mt={class:"textSmall"},Bt=Object(a["h"])(" Not a member ?"),Ut=Object(a["h"])(" Sign Up now."),Rt={class:"alternateSignIn"},Pt={key:0,id:"loader"},Ft=Dt((function(){return Object(a["g"])("p",null,"Alternatively, you can sign in with google",-1)}));function zt(e,t,n,r,o,c){var i=Object(a["D"])("router-link");return Object(a["v"])(),Object(a["f"])("div",xt,[Object(a["g"])("div",Ct,[Nt,Object(a["g"])("form",{class:"formBase",onSubmit:t[2]||(t[2]=Object(a["O"])((function(e){return c.handleSignin()}),["prevent"]))},[Object(a["N"])(Object(a["g"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(t){return e.emailAddress=t}),class:"formInput",placeholder:"Enter your email address"},null,512),[[a["K"],e.emailAddress]]),Object(a["N"])(Object(a["g"])("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.password=t}),class:"formInput",placeholder:"Enter a password"},null,512),[[a["K"],e.password]]),At],32),Object(a["g"])("div",Mt,[Bt,Object(a["i"])(i,{to:"/sign-up"},{default:Object(a["M"])((function(){return[Ut]})),_:1})])]),Object(a["g"])("div",Rt,[o.isLoaded||o.preLoaded?Object(a["e"])("",!0):(Object(a["v"])(),Object(a["f"])("div",Pt,"Loading...")),Ft,Object(a["g"])("button",{class:"googleSignIn",onClick:t[3]||(t[3]=Object(a["O"])((function(e){return c.googleSignin()}),["prevent"]))},"Sign in with Google")])])}var Tt=n("6a7c"),Jt={name:"SignIn",data:function(){return{isLoaded:!1,preLoaded:!0}},methods:{handleSignin:function(){var e=this;this.preLoaded=!1;var t=this.emailAddress,n=this.password;xe.auth().signInWithEmailAndPassword(t,n).then((function(t){var n=t.user;console.log("this is user",n),localStorage.setItem("authUser",JSON.stringify(n)),n&&e.$router.push({name:"Map"})})).catch((function(e){t="",n="",console.log(e)}))},googleSignin:function(){var e=this;this.preLoaded=!1;var t=Object(Tt["b"])(),n=new Tt["a"];Object(Tt["c"])(t,n).then((function(t){var n=t.user;console.log("this is user",n),localStorage.setItem("authUser",JSON.stringify(n)),n&&(e.isLoaded=!0,e.$router.push({name:"Map"}))})).catch((function(e){var t=e.message;console.log(t)}))}}};n("57c9");const Ht=i()(Jt,[["render",zt],["__scopeId","data-v-6cd6f6a3"]]);var Et=Ht,Gt=[{path:"/",name:"Home",component:P},{path:"/map",name:"Map",component:st},{path:"/sign-up",name:"SignUp",component:jt},{path:"/sign-in",name:"SignIn",component:Et},{path:"/admin",name:"Admin",component:It,beforeEnter:function(e,t,n){var a=Lt();console.log(a),a?n():n({name:"SignIn"})}}],Kt=Object(d["a"])({history:Object(d["b"])("/"),routes:Gt}),Wt=Kt,Yt=n("ecee"),qt=n("320b");Yt["c"].add(B["b"]),Yt["c"].add(B["a"]);var Vt=Object(a["c"])(u);Vt.config.productionTip=!1,Vt.use(Wt).use(qt["a"],{load:{key:"AIzaSyAjnoiL_PASCr0AG9l4LU00PUokxfFC28A",libraries:["places","visualization"]},autobindAllEvents:!0}).use(A["a"]).component("font-awesome-icon",M["a"]).mount("#app")},"57c9":function(e,t,n){"use strict";n("45f7")},"5f50":function(e,t,n){"use strict";n("c3d8")},"65fe":function(e,t,n){"use strict";n("4317")},b453:function(e,t,n){},c3d8:function(e,t,n){},d297:function(e,t,n){"use strict";n("e3fc")},dc2d:function(e,t,n){"use strict";n("b453")},e256:function(e,t,n){"use strict";n("32fa")},e3fc:function(e,t,n){},f93b:function(e,t,n){}});
//# sourceMappingURL=app.c6731907.js.map